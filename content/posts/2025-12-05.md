+++
date = "2025-12-05 08:00:00"
draft = true
title = "Zola使ってみる -5-"
description = ""

[taxonomies]
tags = ["blog", "fanbox", "zola"]

[extra]
image = "/compute.jpg"
+++

　Andromedaはもう諦めた。  
　タグやページネーションに対応した似たようなテーマを探す。

DeepThought: https://github.com/RatanShreshtha/DeepThought  
Zolaテーマの中で現在最も安定しており、人気のあるテーマの一つ。  
Andromeda同様にシンプルだが、機能面で非常に完成度が高い。  

Even: https://github.com/getzola/even  
HugoやHexoでも有名なテーマのZola移植版。  
ブログとして必要な機能が網羅されている。  

Abridge: https://github.com/jieiku/abridge  
「軽量・高速」を売りにしているテーマ。  
見た目はAndromedaに近いミニマルさを持っている。  

Serene: https://github.com/isunjn/serene  
「シンプルだけど、少しだけモダンな装飾（写真やフォントの雰囲気）が欲しい」場合はこちらがおすすめ。

　うーん、なんかどれも違うな。

　また公式リストを眺めてみる。Vongeがいいかな。

> Vonge  
> <https://pascal-berrang.de/vonge-zola-theme/>

> paberr/vonge-zola-theme: This is a Zola port of the Vonge Hugo Bookshop template, originally created by CloudCannon (https://cloudcannon.com/) and licensed under the MIT License.  
> <https://github.com/paberr/vonge-zola-theme/>

```
% git clone https://github.com/paberr/vonge-zola-theme themes/vonge
Cloning into 'themes/vonge'...
remote: Enumerating objects: 325, done.
remote: Counting objects: 100% (31/31), done.
remote: Compressing objects: 100% (19/19), done.
remote: Total 325 (delta 11), reused 19 (delta 9), pack-reused 294 (from 1)
Receiving objects: 100% (325/325), 13.77 MiB | 6.12 MiB/s, done.
Resolving deltas: 100% (103/103), done.
```

```
% vi config.toml
theme = "vonge"
taxonomies = [
    { name = "tags", feed = true},
]
```

```
% cp -r themes/vonge/content/* content
```

```
% zola serve
Building site...
Checking all internal links with anchors.
> Successfully checked 0 internal link(s) with anchors.
-> Creating 28 pages (0 orphan) and 3 sections
Done in 97ms.

Web server is available at http://127.0.0.1:1111 (bound to 127.0.0.1:1111)

Listening for changes in /Users/kinneko/Documents/fanbox-zola/{config.toml,content,sass,static,templates,themes}
Press Ctrl+C to stop
```

　ブラウザで開くと、まんまデモと同じページだ。カスタムたいへんそう...

```
% ls content
2025-01-01.md	2025-11-21.md	_index.md	about.md	posts		testimonials
2025-11-20.md	2025-11-24.md	_index.md.org	elements.md	projects
```

　おや、なにもないぞw

```
% cat content/_index.md
+++
+++

　とりあえず、このへんからかな？

```

```
% ls content/posts
_index.md
believe-and-act-as-if-it-were-impossible-to-fail.md
do-what-you-can-with-what-you-have-where-you-are.md
everything-has-beauty-but-not-everyone-can-see.md
it-is-never-too-late-to-be-what-you-might-have-been.md
life-shrinks-or-expands-in-proportion-to-one’s-courage.md
strive-not-to-be-a-success-but-rather-to-be-of-value.md
that-which-does-not-kill-us-makes-us-stronger.md
the-way-i-see-it-every-life-is-a-pile-of-good-things.md
you-must-be-the-change-you-wish-to-see-in-the-world.md
```

```
% cat content/posts/believe-and-act-as-if-it-were-impossible-to-fail.md
+++
date = "2018-11-05 15:01:35"
title = "Believe and act as if it were impossible to fail"
description = "Bring to the table win-win survival strategies to ensure proactive domination. At the end of the day, going forward."
[taxonomies]
tags = ["travel", "lifestyle"]
[extra]
image = '/images/post-6.jpg'
+++
(snip)
```

　なるほど。前のコンテンツで、そのままいけそうね。

```
% mv content/2025-* content/posts
```

　ダメだったw 

　_index.md見る。

```
% cat content/posts/_index.md
+++
title = "Blog"
sort_by = "date"
paginate_by = 6
[[extra.content_blocks]]
block = "page-heading"
title = "Blog"
description = "Vonge blog features productivity, tips, inspiration and strategies for massive profits. Find out how to set up a successful blog or how to make yours even better!"
[[extra.content_blocks]]
block = "posts-list"
show_posts = true
[[extra.content_blocks]]
block = "newsletter"
newsletter_title = "Join my mailing list"
newsletter_description = "Get inspiration, updates and, cool stuff!"
newsletter_identifier = ""
newsletter_button = "Subscribe"
+++
```

　[extra.content_blocks]とか削るとシンプルになるかな？ このへん消してみたら、レンダリングできなくなった... 戻す。

```
% vi content/posts/_index.md
block = "newsletter"
newsletter_title = "Join my mailing list"
newsletter_description = "Get inspiration, updates and, cool stuff!"
newsletter_identifier = ""
newsletter_button = "Subscribe"
```

　エラー。

```
Change detected @ 2025-11-24 21:52:27
-> Content changed /Users/kinneko/Documents/fanbox-zola/content/posts/_index.md
Checking all internal links with anchors.
> Successfully checked 0 internal link(s) with anchors.
-> Creating 28 pages (0 orphan) and 3 sections
Error: Failed to build the site
Error: Failed to render pager 3
Error: Reason: Failed to render 'section.html' (error happened in a parent template)
Error: Reason: Variable `block.block` not found in context while rendering 'components/index.html'
Done in 108ms.
```

　おお？ なんか出た。

![](/2025-12-05/v7R68HoXIFmSJwQWAYRei45s.png)

　デフォルトのコンテンツ削除する。
　移行したコンテンツのヘッダを調整する。なんかできたな。

![](/2025-12-05/xuTmW7X0tYCoPN41EWLVfyc7.png)

```
% cd projects
% ls
_index.md		desk-setup.md		prague-city.md		the-rocks.md
antelope-canyon.md	green-plant.md		quiet-lake.md
big-airplane.md		mountains.md		sea-and-rest.md
```

　これを削除しちゃうとレンダリングエラーになってしまう。どこかで中身を定義してあるのだよな。

　themes/vonge/templatesの下を見てみる。

```
% ls
404.html		custom_page.html	partials		taxonomy_list.html
base.html		index.html		project.html		taxonomy_single.html
components		page.html		section.html		testimonial.html
```

　ヘッド部は、partials/head.htmlとかいうのを読んでいるな...

　themes/vonge/templates/partials/head.html あたりか。

```
% ls
article-content.html	google-analytics.html	post-navigation.html	social-link.html
disqus-comments.html	head.html		related-posts.html
footer.html		header.html		share.html
```

　themes/vonge直下のconfig.tomlに全体の設定があった。

```
% cat config.toml
# The URL the site will be built for
base_url = "https://paberr.github.io/vonge-zola-theme/"

title = "Vonge"
author = "Vanessa Marley"
description = "Vonge is a portfolio site template for Zola"

# Whether to automatically compile all Sass files in the sass directory
compile_sass = true

generate_feeds = true
feed_filenames = [ "atom.xml",]
minify_html = true

# Whether to build a search index to be used later on by a JavaScript library
build_search_index = false

taxonomies = [
    { name = "tags", feed = true},
]

[markdown]
# Whether to do syntax highlighting
# Theme can be customised by setting the `highlight_theme` variable to a theme supported by Zola
highlight_code = false

[extra]
logo_image = "images/logo.svg"
social_media_share_image = "/images/01.jpg"
disqus_identifier = ""
google_analytics = ""
twitter_handle = ""

author_image = '/images/avatar.jpg'

navigation = [
    { url = "$BASE_URL", title = "Home" },
    { url = "$BASE_URL/projects", title = "Projects" },
    { url = "$BASE_URL/posts", title = "Blog" },
    { url = "$BASE_URL/tags", title = "Tags" },
    { url = "", title = "Pages", submenu = [
        { url = "$BASE_URL/about", title = "About" },
        { url = "$BASE_URL/elements", title = "Elements" }
    ] }
]
social_icons = [
    { url = "https://github.com/cydave", icon = "GitHub" },
    { url = "https://twitter.com/_cydave", icon = "Twitter" },
    { url = "$BASE_URL/atom.xml", icon = "RSS" },
    { url = "https://pinterest.com", icon = "Pinterest"},
]
date_format = "%d %b %Y"
language_direction = "auto"
keywords = ["keyword1", "keyword2", "keyword3"]

[extra.newsletter]
newsletter_title = "Join my mailing list"
newsletter_identifier = ""
newsletter_button = "Subscribe"
newsletter_description = "Get inspiration, updates and, cool stuff!"

[extra.footer]
menu = [
    { url = "$BASE_URL", title = "Home" },
    { url = "$BASE_URL/projects/", title = "Projects" },
    { url = "$BASE_URL/elements/", title = "Elements" },
    { url = "$BASE_URL/about/", title = "About" },
    { url = "$BASE_URL/posts/", title = "Blog" },
]
#copyright = ""


[[extra.content_blocks]]
block = "hero"
title = "Hi there, I am Vanessa Marley"
description_html = "<strong>Photographer</strong> and Visual Content Strategist from Albany. I work as a lifestyle, product, and landscape photographer, creating images for a diverse range of requests, from online media to printed artwork."
image = "/images/01.jpg"
image_alt = "Vanessa Marley's picture"
cta_button_link = "#contact"
cta_button = "Get in touch"
works_button_link = "#projects"
works_button = "See my works"
[[extra.content_blocks]]
block = "projects-section"
title = "Latest Works"
description_html = """
    <p>I show only my best works built completely with passion, simplicity,
    and creativity!</p>"""
link_url = "/projects"
show_projects = true
[[extra.content_blocks]]
block = "testimonials-section"
title = "Happy Clients"
description_html = ""
show_testimonials = true
[[extra.content_blocks]]
block = "blog-section"
title = "Recent Posts"
description_html = """
    <p>Vonge blog features productivity, tips, inspiration and strategies for
    massive profits. Find out how to set up a successful blog or how to make
    yours even better!</p>"""
link_url = "/posts"
show_posts = true
[[extra.content_blocks]]
block = "newsletter"
newsletter_title = "Join my mailing list"
newsletter_description = "Get inspiration, updates and, cool stuff!"
newsletter_identifier = ""
newsletter_button = "Subscribe"
[[extra.content_blocks]]
block = "contact-form"
form_title = "Get in touch"
form_description = "Vonge comes with a built-in contact form."
form_success_page = ''
form_submission_email = "site@example.com"
form_button_text = "Send now"
```

　「Happy Clients」いらない。二箇所にある。

```
% grep "Happy Clients" -R ./*
./config.toml:title = "Happy Clients"
./theme.toml:title = "Happy Clients"
```

　show_testimonials = falseにしても消えない。削除しても消えない...

```
[[extra.content_blocks]]
block = "testimonials-section"
title = "Happy Clients"
description_html = ""
show_testimonials = true
```

　変更しても何も変わらない...

```
title = "Vonge"
```

　「 Join my mailing list 」が出てくるのは邪魔。でも消えない。

```
#[extra.newsletter]
#newsletter_title = "Join my mailing list"
#newsletter_identifier = ""
#newsletter_button = "Subscribe"
#newsletter_description = "Get inspiration, updates and, cool stuff!"
```

　フッターをシンプルに。でも消えない。

```
[extra.footer]
menu = [
    { url = "$BASE_URL", title = "Home" },
#    { url = "$BASE_URL/projects/", title = "Projects" },
#    { url = "$BASE_URL/elements/", title = "Elements" },
#    { url = "$BASE_URL/about/", title = "About" },
    { url = "$BASE_URL/posts/", title = "Blog" },
]
#copyright = ""
```

　うーん。

```
templates % ls
404.html		custom_page.html	partials		taxonomy_list.html
base.html		index.html		project.html		taxonomy_single.html
components		page.html		section.html		testimonial.html
```

　これのindex.htmlがトップを表示しているらしい。

```
% cat index.html
{% import "components/index.html" as components %}
{% extends "base.html" %}
{% block main %}
{% if config.extra.content_blocks %}
{{ components::content_blocks(data = config.extra.content_blocks) }}
{% endif %}
{% endblock %}
```

　なるほど。継承している感じの構成なのね。
　components/index.htmlからコンポーネントを継承。
　base.htmlを拡張。
　mainブロックを表示。
　config.extra.content_blocksがあれば表示。
　エンドプロックを表示。

　AIさんはこんなの書いてきたけど、これだとメニューバーとエンドブロックしか出ない。

```
{% extends "base.html" %}
{% block content %}
<!-- ここを自由に書き換えます -->
<div class="hero-section">
    <h1>ようこそ！</h1>
    <p>ここはカスタムしたトップページです。</p>
</div>
<!-- 既存の記事一覧表示部分（例） -->
<div class="posts">
    {% for page in paginator.pages %}
        <article>
            <a href="{{ page.permalink }}">{{ page.title }}</a>
        </article>
    {% endfor %}
</div>
{% endblock content %}
```

![](/2025-12-05/id3vZmmXP68qIs8bnqu03HPw.png)

　有効なのは、以下だけってことのようだ。実際この３行にしても表示は同じ。

```
{% extends "base.html" %}
{% block content %}
{% endblock %}
```

　おお、こんなビルドエラーをブラウザ側に出すこともできるのか。serveかしこい！

![](/2025-12-05/BH7ddRNOCGubJ7SOsM1bhnUh.png)

　{% block content %}を{% block main %}にしても結果は同じ。
　表示内容は、これが制御しているのね。

```
{% if config.extra.content_blocks %}
{{ components::content_blocks(data = config.extra.content_blocks) }}
{% endif %}
```

　components/index.htmlにある、componentsから、config.extra.content_blocksを順に表示しているってことか。
　components/index.htmlを見る。

```
% cat components/index.html
{% import "components/blog-card.html" as blog_card %}
{% import "components/blog-section.html" as blog_section %}
{% import "components/contact-form.html" as contact_form %}
{% import "components/content.html" as content %}
{% import "components/hero.html" as hero %}
{% import "components/newsletter.html" as newsletter %}
{% import "components/page-heading.html" as page_heading %}
{% import "components/page-image.html" as page_image %}
{% import "components/pagination.html" as pagination %}
{% import "components/posts-list.html" as posts_list %}
{% import "components/project-card.html" as project_card %}
{% import "components/projects-list.html" as projects_list %}
{% import "components/projects-section.html" as projects_section %}
{% import "components/tags-list.html" as tags_list %}
{% import "components/testimonial-card.html" as testimonial_card %}
{% import "components/testimonials-section.html" as testimonials_section %}
{% macro content_blocks(data) %}
{% for block in data %}
    {% if block.block == "blog-card" %}
    {{ blog_card::blog_card(data = block) }}
    {% elif block.block == "blog-section" %}
    {{ blog_section::blog_section(data = block) }}
    {% elif block.block == "contact-form" %}
    {{ contact_form::contact_form(data = block) }}
    {% elif block.block == "content" %}
    {{ content::content(content_html = block.content_html) }}
    {% elif block.block == "hero" %}
    {{ hero::hero(data = block) }}
    {% elif block.block == "newsletter" %}
    {{ newsletter::newsletter(config = block) }}
    {% elif block.block == "page-heading" %}
    {{ page_heading::page_heading(taxonomies = block.taxonomies | default(value=false), title = block.title, description = block.description | default(value=false)) }}
    {% elif block.block == "page-image" %}
    {{ page_image::page_image(image = block.image, image_alt = block.image_alt) }}
    {% elif block.block == "pagination" %}
    {{ pagination::pagination(data = block) }}
    {% elif block.block == "posts-list" %}
    {{ posts_list::posts_list(data = block) }}
    {% elif block.block == "project-card" %}
    {{ project_card::project_card(data = block) }}
    {% elif block.block == "projects-list" %}
    {{ projects_list::projects_list(data = block) }}
    {% elif block.block == "projects-section" %}
    {{ projects_section::projects_section(data = block) }}
    {% elif block.block == "tags-list" %}
    {{ tags_list::tags_list(data = block) }}
    {% elif block.block == "testimonial-card" %}
    {{ testimonial_card::testimonial_card(data = block) }}
    {% elif block.block == "testimonials-section" %}
    {{ testimonials_section::testimonials_section(data = block) }}
    {% endif %}
{% endfor %}
{% endmacro hero %}
```

　なーんとなく設計思想がわかってきたかも。

---
> オリジナル投稿：
> Zola使ってみる -5-｜kinneko｜pixivFANBOX  
> <https://www.fanbox.cc/@kinneko/posts/10952401>
